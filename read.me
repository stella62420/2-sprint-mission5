# PandaMarket - 스프린트 4 미션 제출

토큰 기반 인증/인가, Refresh Token, Prisma 관계형 설계를 포함한 중고거래 백엔드 프로젝트입니다.

---

## 스프린트 4 미션 목표

- 토큰 기반 유저 인증/인가 구현하기  
- (심화) Refresh Token 구현하기  
- (심화) Prisma로 관계형 활용하기

---

## 1. 기본 요구사항

### 1-1. 인증

- [x] `User` 스키마 작성 (`id`, `email`, `nickname`, `image`, `password`, `createdAt`, `updatedAt`)
- [x] 회원가입 API (`email`, `nickname`, `password` 입력 → 비밀번호는 bcrypt로 해싱 저장)
- [x] 로그인 시 Access Token 발급 (JWT 기반)

### 1-2. 상품 기능 인가

- [x] 로그인한 유저만 상품 등록 가능
- [x] 본인이 등록한 상품만 수정/삭제 가능

### 1-3. 게시글 기능 인가

- [x] 로그인한 유저만 게시글 등록 가능
- [x] 본인이 등록한 게시글만 수정/삭제 가능

### 1-4. 댓글 기능 인가

- [x] 로그인한 유저만 상품/게시글에 댓글 등록 가능
- [x] 본인이 작성한 댓글만 수정/삭제 가능

### 1-5. 유저 정보

- [x] 내 정보 조회
- [x] 내 정보 수정 (nickname, image)
- [x] 비밀번호 변경 (`currentPassword` 확인 후 변경)
- [x] 내가 등록한 상품 목록 조회
- [x] 비밀번호는 응답에 포함되지 않음

---

## 2. 심화 요구사항

### 2-1. 인증

- [x] Refresh Token 발급 및 저장
- [x] `/auth/refresh`로 Access Token 재발급

### 2-2. 좋아요 기능

- [x] 상품/게시글 좋아요 & 좋아요 취소
- [x] 조회 시 `isLiked` 필드로 좋아요 여부 확인
- [x] 내가 좋아요한 상품/게시글 목록 조회

---

## ⚙️ 사용 기술 스택

- Node.js (Express)
- Prisma ORM (PostgreSQL)
- JWT (jsonwebtoken)
- bcrypt (비밀번호 해싱)
- Superstruct (요청 유효성 검사)
- Multer (이미지 업로드)

---

## 🧪 API 테스트

- Thunder Client로 전 API 테스트 완료
- Access Token → `Authorization: Bearer <token>` 헤더로 포함
- Refresh Token 발급/재발급 흐름 정상 작동

---

## 🙋‍♂️ 기타

- 제출일을 맞추지 못해 죄송합니다.
